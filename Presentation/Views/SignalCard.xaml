<!-- Presentation/Views/SignalCard.xaml -->
<UserControl x:Class="CSharp_WPF_Websockets.Presentation.Views.SignalCard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <UserControl.Resources>
        <Style x:Key="SignalCard" TargetType="Border">
            <Setter Property="Background" Value="#FF424242"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="Margin" Value="8"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="8" ShadowDepth="2" Opacity="0.3"/>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <Border Style="{StaticResource SignalCard}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Grid Grid.Row="0" Margin="0,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Ellipse Grid.Column="0" Width="8" Height="8" Margin="0,0,8,0">
                    <Ellipse.Fill>
                        <SolidColorBrush Color="#4ECDC4"/>
                    </Ellipse.Fill>
                </Ellipse>

                <TextBlock Grid.Column="1" Text="{Binding Name}" 
                         FontWeight="Medium" FontSize="14" Foreground="White"/>

                <TextBlock Grid.Column="2" Text="📊" FontSize="16"/>
            </Grid>

            <!-- Value Display -->
            <TextBlock Grid.Row="1" Text="{Binding Value, StringFormat='{}{0:F1}'}" 
                     FontSize="32" FontWeight="Bold" 
                     HorizontalAlignment="Center" VerticalAlignment="Center"
                     Foreground="#FF4CAF50" Margin="0,10"/>

            <!-- Progress Bar for Analog Values -->
            <ProgressBar Grid.Row="2" 
                        Value="{Binding Value}" 
                        Minimum="{Binding MinValue}"
                        Maximum="{Binding MaxValue}"
                        Height="6" Margin="0,5"
                        Background="#FF616161"
                        Foreground="#FF4CAF50"/>

            <!-- Status and Info -->
            <Grid Grid.Row="3" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" 
                         Text="{Binding Unit}" 
                         FontSize="12" Foreground="White" Opacity="0.8"
                         VerticalAlignment="Center"/>

                <TextBlock Grid.Column="1" 
                         Text="{Binding Timestamp, StringFormat='{}{0:HH:mm:ss}'}"
                         FontSize="10" Opacity="0.6" VerticalAlignment="Center"
                         Foreground="White"/>
            </Grid>
        </Grid>
    </Border>
</UserControl>